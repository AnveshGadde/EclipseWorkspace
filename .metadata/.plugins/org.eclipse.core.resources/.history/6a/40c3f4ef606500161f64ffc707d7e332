package org.anveshgadde.sql;

import dnl.utils.text.table.TextTable;
import java.io.FileInputStream;
import java.io.IOException;
import java.net.URL;
import java.util.Properties;


public class ClipBoardMain {

	final Properties properties = new Properties();

	public ClipBoardMain() throws IOException {

		// properties.load(getClass().getClassLoader().getResourceAsStream("./resources/database.properties"));
	}

	public static void main(String... args) throws Exception {

		ClipBoardMain d = new ClipBoardMain();
		String propFilePath;
		if (args.length < 2) {
			propFilePath = "C:/Users/anveshg/Desktop/database.properties";
		} else {
			propFilePath = args[1];
		}
		ClipboardTextTransfer clip = new ClipboardTextTransfer();
		String querySQL = clip.getClipboardContents();
		DBConnection db = new DBConnection(propFilePath);
		Query query = new Query(DBConnection.getProdRPTOracle(), querySQL);

		// System.err.println(query.getHeaders());
		// System.err.println(query.getData());
		TextTable tt = new TextTable((String[]) query.getHeaders(), query.getData());
		// this adds the numbering on the left
		tt.setAddRowNumbering(true);
		// sort by the first column
		tt.setSort(0);
		tt.printTable();
	}

}